logging {
  level = "info"
  format = "logfmt"
}

discovery.kubernetes "pod" {
  role = "pod"

  namespaces {
    names = ["argocd"]
  }
}

loki.source.kubernetes "pod_logs" {
  targets    = discovery.kubernetes.pod.targets
  forward_to = [logging.write.stdout.receiver]
}

logging.write "stdout" {}
