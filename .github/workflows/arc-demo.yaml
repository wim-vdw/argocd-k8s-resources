name: ARC Demo
on:
  workflow_dispatch:

jobs:
  job1:
    runs-on: arc-runner-set1
    steps:
    - name: Run a one-liner script for job1 with success
      run: |
        echo "ðŸŽ‰ This job runs on a runner scale set in my Kubernetes cluster!"
    - name: List files in the workspace
      run: ls -ltr
    - name: Check out repository code
      uses: actions/checkout@v6
    - name: List files in the workspace
      run: ls -ltr

  job2:
    runs-on: arc-runner-set1
    steps:
    - name: Run a one-liner script for job2 with failure
      run: |
        echo "ðŸŽ‰ This job runs on a runner scale set in my Kubernetes cluster!"
        exit 1

  job3:
    needs:
    - job1
    - job2
    if: ${{ always() }}
    runs-on: arc-runner-set1
    steps:
    - name: Run a one-liner script for job3
      run: |
        echo "ðŸŽ‰ This job runs on a runner scale set in my Kubernetes cluster!"
